<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/svg+xml" href="/vite.svg" />
  <meta name="viewport"
    content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover" />
  <title>Voice Guestbook</title>


  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Homemade+Apple&family=Reenie+Beanie&display=swap"
    rel="stylesheet">
</head>

<body>
  <section class="splash-screen">
    <h2>Firdaus & Najiha</h2>
    <div class="start-button">
      <div class="start-button-text" id="actionBtn"> Click here to start</div>
  </section>

  <section class="brides-greeting-section">
    <canvas id="visualizer"
      style="width:100%; height:120px; background: black; border-radius:8px; display:block; margin: 0.75rem auto;"></canvas>
    <audio id="audioPlayback-greetings" controls style="display:none"></audio>
    <div class="vtt-container" id="lyricsBox"> test </div>
  </section>

  <section class="guest-wishes-section">
    <h2>What you got to say?</h2>
    <canvas id="visualizer2"
      style="width:100%; height:120px; background: black; border-radius:8px; display:block; margin: 0.75rem auto;"></canvas>
    <button id="recordBtn" class="record-btn idle">🎤 Start</button>
    <div id="postControls" style="display:none;">
      <button id="restartRecordingBtn">🔄 Restart</button>
      <button id="saveRecordingBtn">Next ✅</button>
    </div>
    <audio id="audioPlayback" controls style="display:none;" preload="auto" playsinline webkit-playsinline></audio>
  </section>


  <section class="selfie-section">
    <div class="camera-wrapper">
      <video id="camera" autoplay playsinline></video>
      <div class="camera-filter"></div>
    </div>
    <!-- <video id="camera" autoplay playsinline muted></video>
    <div class="camera-filter"></div> -->
    <canvas id="photoCanvas" style="display: none;"></canvas>
    <div class="shutter-button-wrapper">
      <button id="takePhotoBtn" class="shutter-button"></button>
    </div>
  </section>

  <!-- Final Preview Overlay -->
  <div id="finalPreviewOverlay" class="finalPreviewOverlay">
    <div class="polaroid-frame">
      <div class="photo-area">
        <img id="finalPreviewPhoto" class="guest-photo" alt="Guest" />
      </div>

      <div class="guest-info">
        <canvas id="finalPreviewCanvas" class="audio-visualizer" width="400" height="60"></canvas>
        <audio id="finalPreviewAudio" class="audio-player" preload="metadata"></audio>
        <!-- Display name area -->
        <h2 id="displayName" class="editable-name" tabindex="0">Your Name Here<span class="cursor">|</span></h2>

        <!-- Hidden input for actual typing -->
        <input id="hiddenNameInput" type="text" style="position:absolute; opacity:0; pointer-events:none;" />
      </div>

      <div class="bottom-bar">
        <span id="finalPreviewDate" class="guest-date">Oct 9, 2025</span>
      </div>
    </div>

    <div class="final-button">
      <button id="restartBtn">🔁 Restart</button>

      <button id="submitFinalBtn">✅ Submit</button>
    </div>
  </div>


  <!-- <audio id="ownerGreeting" src="/greeting.mp3"></audio> -->
  <script type="module" src="/src/main.js"></script>
</body>

</html>