<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/svg+xml" href="/vite.svg" />
  <meta name="viewport"
    content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover" />
  <title>Voice Guestbook</title>


  <!-- <link href="https://fonts.googleapis.com/css2?family=Sacramento&display=swap" rel="stylesheet"> -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Fleur+De+Leah&display=swap" rel="stylesheet">
</head>

<body>
  <section class="splash-screen">
    <h2>Firdaus & Najiha</h2>
    <div class="start-button">
      <!-- <button class="button-17" role="button" id="actionBtn"> click here to start</button> -->
       <div class="start-button-text" id="actionBtn"> Click here to start</div>
  </section>

  <section class="brides-greeting-section">
    <canvas id="visualizer"
      style="width:100%; height:120px; background: black; border-radius:8px; display:block; margin: 0.75rem auto;"></canvas>
    <audio id="audioPlayback-greetings" controls style="display:none"></audio>
    <div class="vtt-container" id="lyricsBox"> test </div>
  </section>

  <section class="selfie-section">
    <h2>Take a Selfie</h2>
    <video id="camera" autoplay playsinline muted></video>
    <canvas id="photoCanvas"></canvas>
    <img id="photoPreview">
    <div style="margin-top:0.75rem; display:flex; gap:0.5rem; justify-content:center;">
      <button id="retakePhotoBtn" disabled>Retake ↩️</button>
      <button id="takePhotoBtn">Capture 📸</button>
      <button id="submitSelfieBtn" disabled> Next ✅</button>
    </div>
  </section>

  <section class="name-section" id="nameSection">
    <h2 id="displayName">Your Name</h2>
    <input id="guestName" type="text" placeholder="Enter your name"
      style="padding:0.6rem 0.9rem; border-radius:8px; border:1px solid #999; min-width:260px; font-size:16px;" />

    <div id="nameActions" style="margin: 1rem 0; display:none; gap:0.5rem; justify-content:center; flex-wrap:wrap;">
      <button id="submitNameBtn">Next ✅</button>
    </div>
  </section>

  <section class="guest-wishes-section">
    <h2>What you got to say?</h2>
    <canvas id="visualizer2"
      style="width:100%; height:120px; background: black; border-radius:8px; display:block; margin: 0.75rem auto;"></canvas>
    <button id="recordBtn" class="record-btn idle">🎤 Start</button>
    <div id="postControls" style="display:none;">
      <button id="restartRecordingBtn">🔄 Restart</button>
      <button id="saveRecordingBtn">Next ✅</button>
    </div>
    <audio id="audioPlayback" controls style="display:none;" preload="auto" playsinline webkit-playsinline></audio>
  </section>

  <!-- Final Preview Overlay -->
  <div id="finalPreviewOverlay"
    style="display:none; position:fixed; inset:0; background:rgba(0,0,0,0.85); z-index:1000; align-items:center; justify-content:center; padding:1rem;">
    <div class="card-content"
      style="background: rgba(255, 255, 255, 0.1); backdrop-filter: blur(20px); border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 24px; padding: 2rem; text-align: center; color: white; box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3); max-width: 500px; width: 100%; max-height: 90vh; overflow-y: auto;">
      <div class="photo-container" style="margin-bottom:2rem;">
        <img id="finalPreviewPhoto" class="guest-photo"
          style="width:200px; height:200px; border-radius:50%; object-fit:cover; border:4px solid rgba(255,255,255,0.3); box-shadow:0 8px 24px rgba(0,0,0,0.3);"
          alt="Guest" />
      </div>
      <div class="guest-info" style="margin-bottom:2rem;">
        <h2 id="finalPreviewName" class="guest-name"
          style="font-family:'Sacramento', cursive; font-size:2rem; margin:0 0 0.5rem; font-weight:400; text-shadow:0 2px 4px rgba(0,0,0,0.3);">
          Guest</h2>
        <p id="finalPreviewDate" class="guest-date" style="font-size:1rem; margin:0; opacity:0.8; font-weight:300;">
        </p>
      </div>
      <div class="audio-section" style="margin-bottom:1rem;">
        <canvas id="finalPreviewCanvas" class="audio-visualizer" width="400" height="120"
          style="width:100%; height:120px; background: rgba(0,0,0,0.3); border-radius:12px; margin-bottom:1rem; border:1px solid rgba(255,255,255,0.1);"></canvas>
        <audio id="finalPreviewAudio" class="audio-player" preload="metadata" style="display:none;"></audio>
        <button id="finalPreviewPlayBtn" class="play-button"
          style="background: rgba(0,122,255,0.2); color:white; border:1px solid rgba(0,122,255,0.4); padding:0.75rem 2rem; border-radius:12px; font-size:1.1rem; font-weight:600; cursor:pointer; transition: all 0.2s ease-in-out; backdrop-filter: blur(10px); box-shadow: 0 2px 6px rgba(0,0,0,0.1); letter-spacing:0.3px;">▶️
          Play</button>
      </div>
      <div style="margin-top:1rem; display:flex; gap:0.5rem; justify-content:center; flex-wrap:wrap;">
        <button id="restartBtn">🔁 Restart</button>
        <button id="submitFinalBtn">✅ Submit</button>
      </div>
    </div>
  </div>

  <!-- <audio id="ownerGreeting" src="/greeting.mp3"></audio> -->
  <script type="module" src="/src/main.js"></script>
</body>

</html>